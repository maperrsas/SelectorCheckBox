<!DOCTYPE html>
<html>
	<head>
	
		<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
		<meta content="utf-8" http-equiv="encoding">
		<link rel="stylesheet" href="css/bootstrap.min.css">
	
		<script src="js/popper.min.js"></script>
		<script src="js/jquery-3.2.1.slim.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">

		<!-- Latest compiled and minified JavaScript -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>
	

		<script type="text/javascript" src="js/bootstrap-multiselect.js"></script>
		<link rel="stylesheet" href="css/bootstrap-multiselect.css" type="text/css"/>
				
	</head>
	<body>
		<div class="container">
			<div class="form-row">
				<div class="col-md-4">
					<label for="assessor">Assessors and Interested Parties</label>
					<select id="assessor" name="assessor" class="selectpicker" multiple data-live-search="true" onchange="changeInterestedParty();"></select>
				</div>
			</div>
		</div>


		<script>
			$(document).ready(function() {
				
				loadAssessors();
			
			});
		
			function loadAssessors(){
			
				var assessorList = getAssessors();
				
				for(var i=0; i < assessorList.length; i++) {
					var name = assessorList[i];	
					$('#assessor').append('<option value="' + name + '">' + name + '</option>');	
				}
				
				$('#assessor').selectpicker('refresh');
				$('#assessor').selectpicker('val', getInterestedParties().split(";"));
			
			}
			
			function changeInterestedParty(){
				var selectedParties = $('#assessor').val();
				
				var delimitedParties = '';
				for(var i=0; i < selectedParties.length; i++){
					delimitedParties += selectedParties[i] + ';';
				}
				
				console.log(delimitedParties);
			}
			
			/* Mimics a list of assessors */
			function getAssessors(){
				
				var assessors = [];
				assessors.push('MARSHALL, TANNER G');
				assessors.push('ELLIOTT, MATT M');
				assessors.push('BARELA, ANTONIO');
				assessors.push('BARRAGAN, ARNULFO B');
				assessors.push('CLARK, NATHAN A');
				assessors.push('WEBB, JIMMY D');
				assessors.push('FORTNER, SAMUEL');
				assessors.push('BINDER, JONATHAN A');
				assessors.push('NORLIN, LANCE');
				return assessors;
			
			}
			
			/* Returns a comma delimited list of interested parties*/
			function getInterestedParties(){
			
				var intParties = 'BARELA, ANTONIO;WEBB, JIMMY D;FORTNER, SAMUEL;';
				return intParties;
			
			}
		
		</script>
		
	</body>
</html>
